<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Products</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="d-flex flex-column h-100">
    <header class="bg-dark text-light py-3">
        <nav class="container d-flex justify-content-between align-items-center">
            <h1 class="h5 m-0">Search Products</h1>
            <ul class="nav">
                <li class="nav-item"><a href="index.html" class="nav-link text-light active">Home</a></li>
                <li class="nav-item"><a href="about.html" class="nav-link text-light">About US</a></li>
                <li class="nav-item"><a href="create.html" class="nav-link text-light">Create</a></li>
                <li class="nav-item"><a href="search.html" class="nav-link text-light">Search</a></li>
            </ul>
        </nav>
    </header>
    
    <main class="container my-5"> <!-- Added main element here -->
        <h1 class="text-center mb-4">Product List</h1>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Stock</th>
                    <th>Description</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="product-table-body"> <!-- Product rows will be inserted here -->
                <!-- Product rows will be populated by JavaScript -->
            </tbody>
        </table>
    </main>

    <!-- Pagination -->
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center" id="pagination">
            <!-- Pagination items will be inserted here -->
        </ul>
    </nav>

    <script type="module">
        import listBuilder from "./app/products/search.js";

        let params = new URL(document.location).searchParams;
        let recordPage = {
          page: Number(params.get('page') ?? 1),
          perPage: Number(params.get('perPage') ?? 7)
        };

        const list = listBuilder(recordPage); // Assuming this will return the correct list with pagination info

        // Assuming list.element contains the HTML for the product list
        let productTableBody = document.querySelector('#product-table-body');
        productTableBody.innerHTML = list.element;

        // Assuming list.pagination contains the pagination HTML
        let paginationContainer = document.querySelector('#pagination');
        paginationContainer.innerHTML = list.pagination;
    </script>  
</body>
</html>
